<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Theory.ModeCorrectness.Signature</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">import</a> <a id="8" href="Syntax.Simple.Signature.html" class="Module">Syntax.Simple.Signature</a> <a id="32" class="Symbol">as</a> <a id="35" class="Module">S</a>

<a id="38" class="Keyword">module</a> <a id="45" href="Theory.ModeCorrectness.Signature.html" class="Module">Theory.ModeCorrectness.Signature</a> <a id="78" class="Symbol">(</a><a id="79" href="Theory.ModeCorrectness.Signature.html#79" class="Bound">SD</a> <a id="82" class="Symbol">:</a> <a id="84" href="Syntax.Simple.Signature.html#97" class="Record">S.SigD</a><a id="90" class="Symbol">)</a> <a id="92" class="Keyword">where</a>

<a id="99" class="Keyword">open</a> <a id="104" class="Keyword">import</a> <a id="111" href="Prelude.html" class="Module">Prelude</a>

<a id="120" class="Keyword">open</a> <a id="125" class="Keyword">import</a> <a id="132" href="Syntax.Simple.html" class="Module">Syntax.Simple</a>              <a id="159" href="Theory.ModeCorrectness.Signature.html#79" class="Bound">SD</a>
<a id="162" class="Keyword">open</a> <a id="167" class="Keyword">import</a> <a id="174" href="Syntax.BiTyped.Signature.html" class="Module">Syntax.BiTyped.Signature</a> <a id="199" href="Theory.ModeCorrectness.Signature.html#79" class="Bound">SD</a>

<a id="203" class="Keyword">private</a> <a id="211" class="Keyword">variable</a>
  <a id="222" href="Theory.ModeCorrectness.Signature.html#222" class="Generalizable">Ξ</a> <a id="224" class="Symbol">:</a> <a id="226" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>

<a id="229" class="Comment">-- every variable in A is contained in some As</a>
<a id="Cover"></a><a id="276" href="Theory.ModeCorrectness.Signature.html#276" class="Function">Cover</a> <a id="282" class="Symbol">:</a> <a id="284" href="Prelude.Distinct.html#742" class="Function">Fins#</a> <a id="290" href="Theory.ModeCorrectness.Signature.html#222" class="Generalizable">Ξ</a> <a id="292" class="Symbol">→</a> <a id="294" href="Syntax.Simple.html#181" class="Function">TExps</a> <a id="300" href="Theory.ModeCorrectness.Signature.html#222" class="Generalizable">Ξ</a> <a id="302" class="Symbol">→</a> <a id="304" href="Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="308" href="Theory.ModeCorrectness.Signature.html#276" class="Function">Cover</a> <a id="314" href="Theory.ModeCorrectness.Signature.html#314" class="Bound">xs</a> <a id="317" href="Theory.ModeCorrectness.Signature.html#317" class="Bound">Δ</a> <a id="319" class="Symbol">=</a> <a id="321" href="Data.List.Relation.Unary.All.html#1448" class="Datatype">L.All</a> <a id="327" class="Symbol">(λ</a> <a id="330" href="Theory.ModeCorrectness.Signature.html#330" class="Bound">A</a> <a id="332" class="Symbol">→</a> <a id="334" href="Syntax.Simple.Term.html#867" class="Function">vars</a> <a id="339" href="Theory.ModeCorrectness.Signature.html#330" class="Bound">A</a> <a id="341" href="Prelude.Distinct.html#1232" class="Function Operator">#⊆</a> <a id="344" href="Theory.ModeCorrectness.Signature.html#314" class="Bound">xs</a><a id="346" class="Symbol">)</a> <a id="348" href="Theory.ModeCorrectness.Signature.html#317" class="Bound">Δ</a>

<a id="known"></a><a id="351" href="Theory.ModeCorrectness.Signature.html#351" class="Function">known</a> <a id="357" class="Symbol">:</a> <a id="359" href="Syntax.BiTyped.Signature.html#446" class="Function">ArgsD</a> <a id="365" href="Theory.ModeCorrectness.Signature.html#222" class="Generalizable">Ξ</a> <a id="367" class="Symbol">→</a> <a id="369" href="Prelude.Distinct.html#742" class="Function">Fins#</a> <a id="375" href="Theory.ModeCorrectness.Signature.html#222" class="Generalizable">Ξ</a>
<a id="377" href="Theory.ModeCorrectness.Signature.html#351" class="Function">known</a> <a id="383" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>                <a id="401" class="Symbol">=</a> <a id="403" href="Data.List.Fresh.html#1635" class="InductiveConstructor">[]</a>
<a id="406" href="Theory.ModeCorrectness.Signature.html#351" class="Function">known</a> <a id="412" class="Symbol">(_</a> <a id="415" href="Syntax.BiTyped.Signature.html#371" class="InductiveConstructor Operator">⊢[</a> <a id="418" href="Theory.ModeCorrectness.Signature.html#418" class="Bound">d</a> <a id="420" href="Syntax.BiTyped.Signature.html#371" class="InductiveConstructor Operator">]</a> <a id="422" href="Theory.ModeCorrectness.Signature.html#422" class="Bound">A</a> <a id="424" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="426" href="Theory.ModeCorrectness.Signature.html#426" class="Bound">Ds</a><a id="428" class="Symbol">)</a> <a id="430" class="Symbol">=</a> <a id="432" href="Theory.ModeCorrectness.Signature.html#466" class="Function">helper</a> <a id="439" href="Theory.ModeCorrectness.Signature.html#418" class="Bound">d</a> <a id="441" href="Theory.ModeCorrectness.Signature.html#422" class="Bound">A</a> <a id="443" href="Prelude.Distinct.html#2297" class="Function Operator">∪</a> <a id="445" href="Theory.ModeCorrectness.Signature.html#351" class="Function">known</a> <a id="451" href="Theory.ModeCorrectness.Signature.html#426" class="Bound">Ds</a>
  <a id="456" class="Keyword">where</a>
    <a id="466" href="Theory.ModeCorrectness.Signature.html#466" class="Function">helper</a> <a id="473" class="Symbol">:</a> <a id="475" href="Prelude.html#4195" class="Datatype">Mode</a> <a id="480" class="Symbol">→</a> <a id="482" href="Syntax.Simple.html#157" class="Datatype">TExp</a> <a id="487" href="Theory.ModeCorrectness.Signature.html#222" class="Generalizable">Ξ</a> <a id="489" class="Symbol">→</a> <a id="491" href="Prelude.Distinct.html#742" class="Function">Fins#</a> <a id="497" class="Symbol">_</a>
    <a id="503" href="Theory.ModeCorrectness.Signature.html#466" class="Function">helper</a> <a id="510" href="Prelude.html#4214" class="InductiveConstructor">Chk</a> <a id="514" href="Theory.ModeCorrectness.Signature.html#514" class="Bound">A</a> <a id="516" class="Symbol">=</a> <a id="518" href="Data.List.Fresh.html#1635" class="InductiveConstructor">[]</a>
    <a id="525" href="Theory.ModeCorrectness.Signature.html#466" class="Function">helper</a> <a id="532" href="Prelude.html#4218" class="InductiveConstructor">Syn</a> <a id="536" href="Theory.ModeCorrectness.Signature.html#536" class="Bound">A</a> <a id="538" class="Symbol">=</a> <a id="540" href="Syntax.Simple.Term.html#867" class="Function">vars</a> <a id="545" href="Theory.ModeCorrectness.Signature.html#536" class="Bound">A</a>

<a id="ModeCorrectᵃ"></a><a id="548" href="Theory.ModeCorrectness.Signature.html#548" class="Function">ModeCorrectᵃ</a> <a id="561" class="Symbol">:</a> <a id="563" href="Prelude.Distinct.html#742" class="Function">Fins#</a> <a id="569" href="Theory.ModeCorrectness.Signature.html#222" class="Generalizable">Ξ</a> <a id="571" class="Symbol">→</a> <a id="573" href="Syntax.BiTyped.Signature.html#332" class="Record">ArgD</a> <a id="578" href="Theory.ModeCorrectness.Signature.html#222" class="Generalizable">Ξ</a> <a id="580" class="Symbol">→</a> <a id="582" href="Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="586" href="Theory.ModeCorrectness.Signature.html#548" class="Function">ModeCorrectᵃ</a> <a id="599" href="Theory.ModeCorrectness.Signature.html#599" class="Bound">xs</a> <a id="602" class="Symbol">(</a><a id="603" href="Theory.ModeCorrectness.Signature.html#603" class="Bound">Δ</a> <a id="605" href="Syntax.BiTyped.Signature.html#371" class="InductiveConstructor Operator">⊢[</a> <a id="608" href="Prelude.html#4214" class="InductiveConstructor">Chk</a> <a id="612" href="Syntax.BiTyped.Signature.html#371" class="InductiveConstructor Operator">]</a> <a id="614" href="Theory.ModeCorrectness.Signature.html#614" class="Bound">A</a><a id="615" class="Symbol">)</a> <a id="617" class="Symbol">=</a> <a id="619" href="Theory.ModeCorrectness.Signature.html#276" class="Function">Cover</a> <a id="625" href="Theory.ModeCorrectness.Signature.html#599" class="Bound">xs</a> <a id="628" class="Symbol">(</a><a id="629" href="Theory.ModeCorrectness.Signature.html#614" class="Bound">A</a> <a id="631" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="633" href="Theory.ModeCorrectness.Signature.html#603" class="Bound">Δ</a><a id="634" class="Symbol">)</a>
<a id="636" href="Theory.ModeCorrectness.Signature.html#548" class="Function">ModeCorrectᵃ</a> <a id="649" href="Theory.ModeCorrectness.Signature.html#649" class="Bound">xs</a> <a id="652" class="Symbol">(</a><a id="653" href="Theory.ModeCorrectness.Signature.html#653" class="Bound">Δ</a> <a id="655" href="Syntax.BiTyped.Signature.html#371" class="InductiveConstructor Operator">⊢[</a> <a id="658" href="Prelude.html#4218" class="InductiveConstructor">Syn</a> <a id="662" href="Syntax.BiTyped.Signature.html#371" class="InductiveConstructor Operator">]</a> <a id="664" href="Theory.ModeCorrectness.Signature.html#664" class="Bound">A</a><a id="665" class="Symbol">)</a> <a id="667" class="Symbol">=</a> <a id="669" href="Theory.ModeCorrectness.Signature.html#276" class="Function">Cover</a> <a id="675" href="Theory.ModeCorrectness.Signature.html#649" class="Bound">xs</a> <a id="678" href="Theory.ModeCorrectness.Signature.html#653" class="Bound">Δ</a>

<a id="ModeCorrectᵃˢ"></a><a id="681" href="Theory.ModeCorrectness.Signature.html#681" class="Function">ModeCorrectᵃˢ</a> <a id="695" class="Symbol">:</a> <a id="697" href="Prelude.Distinct.html#742" class="Function">Fins#</a> <a id="703" href="Theory.ModeCorrectness.Signature.html#222" class="Generalizable">Ξ</a> <a id="705" class="Symbol">→</a> <a id="707" href="Syntax.BiTyped.Signature.html#446" class="Function">ArgsD</a> <a id="713" href="Theory.ModeCorrectness.Signature.html#222" class="Generalizable">Ξ</a> <a id="715" class="Symbol">→</a> <a id="717" href="Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="721" href="Theory.ModeCorrectness.Signature.html#681" class="Function">ModeCorrectᵃˢ</a> <a id="735" class="Symbol">_</a>  <a id="738" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>       <a id="747" class="Symbol">=</a> <a id="749" href="Data.Unit.Polymorphic.Base.html#489" class="Function">⊤</a>
<a id="751" href="Theory.ModeCorrectness.Signature.html#681" class="Function">ModeCorrectᵃˢ</a> <a id="765" href="Theory.ModeCorrectness.Signature.html#765" class="Bound">xs</a> <a id="768" class="Symbol">(</a><a id="769" href="Theory.ModeCorrectness.Signature.html#769" class="Bound">D</a> <a id="771" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="773" href="Theory.ModeCorrectness.Signature.html#773" class="Bound">Ds</a><a id="775" class="Symbol">)</a> <a id="777" class="Symbol">=</a>
  <a id="781" href="Theory.ModeCorrectness.Signature.html#548" class="Function">ModeCorrectᵃ</a> <a id="794" class="Symbol">(</a><a id="795" href="Theory.ModeCorrectness.Signature.html#765" class="Bound">xs</a> <a id="798" href="Prelude.Distinct.html#2297" class="Function Operator">∪</a> <a id="800" href="Theory.ModeCorrectness.Signature.html#351" class="Function">known</a> <a id="806" href="Theory.ModeCorrectness.Signature.html#773" class="Bound">Ds</a><a id="808" class="Symbol">)</a> <a id="810" href="Theory.ModeCorrectness.Signature.html#769" class="Bound">D</a> <a id="812" href="Data.Product.Base.html#1118" class="Function Operator">×</a> <a id="814" href="Theory.ModeCorrectness.Signature.html#681" class="Function">ModeCorrectᵃˢ</a> <a id="828" href="Theory.ModeCorrectness.Signature.html#765" class="Bound">xs</a> <a id="831" href="Theory.ModeCorrectness.Signature.html#773" class="Bound">Ds</a>

<a id="ModeCorrectᶜ"></a><a id="835" href="Theory.ModeCorrectness.Signature.html#835" class="Function">ModeCorrectᶜ</a> <a id="848" class="Symbol">:</a> <a id="850" href="Syntax.BiTyped.Signature.html#474" class="Record">OpD</a> <a id="854" class="Symbol">→</a> <a id="856" href="Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="860" href="Theory.ModeCorrectness.Signature.html#835" class="Function">ModeCorrectᶜ</a> <a id="873" class="Symbol">(</a><a id="874" href="Syntax.BiTyped.Signature.html#504" class="InductiveConstructor">ι</a> <a id="876" class="Symbol">{</a><a id="877" href="Theory.ModeCorrectness.Signature.html#877" class="Bound">Ξ</a><a id="878" class="Symbol">}</a> <a id="880" href="Prelude.html#4214" class="InductiveConstructor">Chk</a> <a id="884" href="Theory.ModeCorrectness.Signature.html#884" class="Bound">A</a> <a id="886" href="Theory.ModeCorrectness.Signature.html#886" class="Bound">Ds</a><a id="888" class="Symbol">)</a> <a id="890" class="Symbol">=</a>
  <a id="894" class="Symbol">((</a><a id="896" href="Theory.ModeCorrectness.Signature.html#896" class="Bound">i</a> <a id="898" class="Symbol">:</a> <a id="900" href="Data.Fin.Base.html#1307" class="Datatype">Fin</a> <a id="904" href="Theory.ModeCorrectness.Signature.html#877" class="Bound">Ξ</a><a id="905" class="Symbol">)</a> <a id="907" class="Symbol">→</a> <a id="909" href="Theory.ModeCorrectness.Signature.html#896" class="Bound">i</a> <a id="911" href="Prelude.Distinct.html#1152" class="Function Operator">#∈</a> <a id="914" class="Symbol">(</a><a id="915" href="Syntax.Simple.Term.html#867" class="Function">vars</a> <a id="920" href="Theory.ModeCorrectness.Signature.html#884" class="Bound">A</a> <a id="922" href="Prelude.Distinct.html#2297" class="Function Operator">∪</a> <a id="924" href="Theory.ModeCorrectness.Signature.html#351" class="Function">known</a> <a id="930" href="Theory.ModeCorrectness.Signature.html#886" class="Bound">Ds</a><a id="932" class="Symbol">))</a> <a id="935" href="Data.Product.Base.html#1118" class="Function Operator">×</a> <a id="937" href="Theory.ModeCorrectness.Signature.html#681" class="Function">ModeCorrectᵃˢ</a> <a id="951" class="Symbol">(</a><a id="952" href="Syntax.Simple.Term.html#867" class="Function">vars</a> <a id="957" href="Theory.ModeCorrectness.Signature.html#884" class="Bound">A</a><a id="958" class="Symbol">)</a> <a id="960" href="Theory.ModeCorrectness.Signature.html#886" class="Bound">Ds</a>
<a id="963" href="Theory.ModeCorrectness.Signature.html#835" class="Function">ModeCorrectᶜ</a> <a id="976" class="Symbol">(</a><a id="977" href="Syntax.BiTyped.Signature.html#504" class="InductiveConstructor">ι</a> <a id="979" class="Symbol">{</a><a id="980" href="Theory.ModeCorrectness.Signature.html#980" class="Bound">Ξ</a><a id="981" class="Symbol">}</a> <a id="983" href="Prelude.html#4218" class="InductiveConstructor">Syn</a> <a id="987" href="Theory.ModeCorrectness.Signature.html#987" class="Bound">A</a> <a id="989" href="Theory.ModeCorrectness.Signature.html#989" class="Bound">Ds</a><a id="991" class="Symbol">)</a> <a id="993" class="Symbol">=</a>
  <a id="997" class="Symbol">((</a><a id="999" href="Theory.ModeCorrectness.Signature.html#999" class="Bound">i</a> <a id="1001" class="Symbol">:</a> <a id="1003" href="Data.Fin.Base.html#1307" class="Datatype">Fin</a> <a id="1007" href="Theory.ModeCorrectness.Signature.html#980" class="Bound">Ξ</a><a id="1008" class="Symbol">)</a> <a id="1010" class="Symbol">→</a> <a id="1012" href="Theory.ModeCorrectness.Signature.html#999" class="Bound">i</a> <a id="1014" href="Prelude.Distinct.html#1152" class="Function Operator">#∈</a> <a id="1017" href="Theory.ModeCorrectness.Signature.html#351" class="Function">known</a> <a id="1023" href="Theory.ModeCorrectness.Signature.html#989" class="Bound">Ds</a><a id="1025" class="Symbol">)</a> <a id="1027" href="Data.Product.Base.html#1118" class="Function Operator">×</a> <a id="1029" href="Theory.ModeCorrectness.Signature.html#681" class="Function">ModeCorrectᵃˢ</a> <a id="1043" href="Data.List.Fresh.html#1635" class="InductiveConstructor">[]</a> <a id="1046" href="Theory.ModeCorrectness.Signature.html#989" class="Bound">Ds</a> <a id="1049" href="Data.Product.Base.html#1118" class="Function Operator">×</a> <a id="1051" href="Syntax.Simple.Term.html#867" class="Function">vars</a> <a id="1056" href="Theory.ModeCorrectness.Signature.html#987" class="Bound">A</a> <a id="1058" href="Prelude.Distinct.html#1232" class="Function Operator">#⊆</a> <a id="1061" href="Theory.ModeCorrectness.Signature.html#351" class="Function">known</a> <a id="1067" href="Theory.ModeCorrectness.Signature.html#989" class="Bound">Ds</a>
  <a id="1072" class="Comment">-- Every i exists in some variable of inferred types</a>

<a id="ModeCorrect"></a><a id="1126" href="Theory.ModeCorrectness.Signature.html#1126" class="Function">ModeCorrect</a> <a id="1138" class="Symbol">:</a> <a id="1140" href="Syntax.BiTyped.Signature.html#625" class="Record">SigD</a> <a id="1145" class="Symbol">→</a> <a id="1147" href="Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="1151" href="Theory.ModeCorrectness.Signature.html#1126" class="Function">ModeCorrect</a> <a id="1163" href="Theory.ModeCorrectness.Signature.html#1163" class="Bound">D</a> <a id="1165" class="Symbol">=</a> <a id="1167" class="Symbol">(</a><a id="1168" href="Theory.ModeCorrectness.Signature.html#1168" class="Bound">i</a> <a id="1170" class="Symbol">:</a> <a id="1172" href="Theory.ModeCorrectness.Signature.html#1163" class="Bound">D</a> <a id="1174" class="Symbol">.</a><a id="1175" href="Syntax.BiTyped.Signature.html#674" class="Field">Op</a><a id="1177" class="Symbol">)</a> <a id="1179" class="Symbol">→</a> <a id="1181" href="Theory.ModeCorrectness.Signature.html#835" class="Function">ModeCorrectᶜ</a> <a id="1194" class="Symbol">(</a><a id="1195" href="Theory.ModeCorrectness.Signature.html#1163" class="Bound">D</a> <a id="1197" class="Symbol">.</a><a id="1198" href="Syntax.BiTyped.Signature.html#719" class="Field">ar</a> <a id="1201" href="Theory.ModeCorrectness.Signature.html#1168" class="Bound">i</a><a id="1202" class="Symbol">)</a>
</pre></body></html>