\documentclass[acmsmall,screen]{acmart}

\ifPDFTeX
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[british]{babel}
\else
\usepackage{polyglossia}
\setdefaultlanguage{british}
\fi

\usepackage{bm}
\usepackage{mathtools}
\usepackage{mathpartir}
\input{mathlig}
%\usepackage{xfrac}
\usepackage{xspace}
%\usepackage{hyperref}
\usepackage[capitalise,noabbrev]{cleveref}

%\usepackage[inline]{enumitem} % for environment enumerate*
%\setlist[enumerate]{mode=unboxed}

\setlength {\marginparwidth }{2cm}
\usepackage[color=yellow,textsize=small]{todonotes}

\usepackage{microtype}

\citestyle{acmauthoryear}
\AtEndPreamble{%
\theoremstyle{acmdefinition}
\newtheorem{remark}[theorem]{Remark}}

\input{type-notation} %% for type theory notation copied from HoTT Book
\input{macros}

\newcommand{\LT}[1]{\todo[author=LT,inline,color=green!40,caption={}]{{#1}}}
\newcommand{\Josh}[1]{\todo[author=Josh,inline,color=green!40,caption={}]{{#1}}}

\begin{document}

\author{Liang-Ting Chen}
\email{liang.ting.chen.tw@gmail.com}
\orcid{0000-0002-3250-1331}
\author{Hsiang-Shang Ko}
\orcid{0000-0002-2439-1048}
\email{joshko@iis.sinica.edu.tw}

\affiliation{%
  \institution{Academia Sinica}
  \streetaddress{128 Academia Road}
  \city{Taipei}
  \country{Taiwan}
  \postcode{115}
}

\title{A Theory of Bidirectional Type Synthesis for Simple Types}

\begin{abstract}
  This paper proposes a formal theory of bidirectional typing.
\end{abstract}

\keywords{Bidirectional typing, type checking, type inference, language formalisation}

\maketitle

\input{sec1-intro}
\input{sec2-outline}
\input{sec3-defs.tex}
\input{sec4-bidirectionalisation.tex}
\input{sec5-synthesis.tex}
\input{sec6-formalisation.tex}
\input{sec7-future.tex}

\begin{acks}
We thank Nathanael Arkor for the useful conversation and to thank the Programming Languages and Formal Methods Laboratory at Academia Sinica for the opportunity of sharing earlier ideas.

The work is supported by the Ministry of Science and Technology of Taiwan under grant MOST 109-2222-E-001-002-MY3.
\end{acks}

\bibliographystyle{ACM-Reference-Format}

\IfFileExists{reference.bib}{%
  \bibliography{reference}
}{\bibliography{ref}}

\end{document}
