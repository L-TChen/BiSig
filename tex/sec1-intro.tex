%!TEX root = BiSig.tex

\section{Introduction}\label{sec:intro}

%  Bidirectional typing had only been a set of principles and characteristics to design typing rules so that a type synthesis algorithm can be `read off' easily
  %, subsuming soundness, completeness, and decidability of type synthesis algorithm.
%  Our work addresses the problem with existing methodologies, setting the stage for further advances towards a more general theory of type synthesis.

  %In short, this paper is a small but first step towards a general theory of type checking and inference.
  %By formalizing our theory of bidirectional type synthesise in \Agda, we provide a framework capable of handling bidirectional type systems of simple types uniformly.
  %Our work addresses the problem with existing methodologies, 
Points to elaborate:
\begin{enumerate}
  \item Type inference and checking as a transition from (parsed) abstract syntax trees to well-typed terms.
  \item Bidirectional typing is by now the only solution that scales well.
  \item Not yet a general theory but by now a design principle.
    No `type checker generator' as each type checker is implemented on a case-by-case basis, but an algorithm can usually be read off from syntax-directed typing rules.
    A hint to a general pattern in syntax-directedness.
  \item The existing work of bidirectional typing does not take account of practical aspects such as missing annotation.
    Lightly or rarely discussed.
  \item A meta-problem: existing work is based on classical logic (or left unspecified at least).
    Soundness of completeness of a type checking algorithm in a less straightforward way.
  \item A review of what has been done towards this line of research.
  \item Finally, our responses (contributions of this paper) and some example.
\end{enumerate}


\begin{enumerate}
  \item Use application in spin form to justify our design choice: type expression of arbitrary rank and the number of constructs in a calculus.
  \item Argue that syntax-directed form is essential and practical.
  \item Pfenning's recipe is only of design guide not a technical requirement (there are many exceptions).
\end{enumerate}

\subsection{Related work}

\citep{Xie2018}
\paragraph{Language formalization and its frameworks}
\cite{Wadler2022}
PoplMark Challenge~\citep{Aydemir2005}

\cite{Cimini2020,Cimini2022}

\citep{Ahrens2018,Fiore2022,Gheri2020,Ahrens2022}
\cite{Allais2021}

\paragraph{Theories of abstract syntax with variable binding}
\cite{Fiore1999,Hirschowitz2010,Ahrens2018,Fiore2022,Ahrens2021,Arkor2020,Hirschowitz2022}
\cite{Fiore2013,Hamana2011,Hamana2022}


\paragraph{Type checker generation}
\cite{Gast2004,Grewe2015,Pacak2020,Cimini2020}

\paragraph{Bidirectional typing}

\cite{Pierce2000}
\cite{Peyton-Jones2007}
\cite{Dunfield2021}


\subsection{Plan and Contributions of this paper}

Our restrictions:
\begin{enumerate}
  \item Assumptions: Why only simple types? Various ways to deal with polymorphism; consistent on simple types.
  \item Assumption: Syntax-directed typing rules
\end{enumerate}

Our contributions:
\begin{enumerate}
  \item Generic: Type checking for simple type theories;
  \item Computational formulation: Bidirectionalisation over annotatability; Decidability over soundness and completeness;
  \item Verified and Constructive: Fully formalised in Martin-LÃ¶f type theory (with Axiom K).
    LEM is not assumed, so a decidable statement has both computational and non-trivial logical readings.
\end{enumerate}

Plan of this paper:
\begin{enumerate}
  \item Introduction (\Cref{sec:intro}) 
    \LT{1+3 pp}
  \item Key ideas (\Cref{sec:key-ideas})
    \Josh{2.5 pp}
  \item Definitions for bidirectional type systems (bidirectional binding signature, bidirectional type systems, signature erasure and mode annotation) (\Cref{sec:defs})
    \LT{4 pp}
  \item Soundness, completeness, bidirectionalisation, and annotatability (\Cref{sec:pre-synthesis})
    \Josh{Erasure from bidirectional typing derivation to raw terms with a mode}
    \Josh{3 pp}
  \item Bidirectional type inference (\Cref{sec:type-synthesis})
    \LT{4 pp}
  \item Formalisation and further examples (\Cref{sec:formalisation})
    \LT{5.5pp}
  \item Concluding remarks (\Cref{sec:future})
    \LT{1 p} \Josh{1p}
\end{enumerate}
  \LT{better title?}



